{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Binary Manager Package Configuration",
  "type": "object",
  "required": [
    "package_name",
    "version",
    "created_at",
    "file_info",
    "files"
  ],
  "properties": {
    "package_name": {
      "type": "string",
      "minLength": 1,
      "description": "Name of the package"
    },
    "version": {
      "type": "string",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "description": "Semantic version number"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp"
    },
    "file_info": {
      "type": "object",
      "required": [
        "archive_name",
        "size",
        "file_count",
        "hash"
      ],
      "properties": {
        "archive_name": {
          "type": "string",
          "pattern": "\\.zip$",
          "description": "Name of the zip archive"
        },
        "size": {
          "type": "integer",
          "minimum": 0,
          "description": "Size of the archive in bytes"
        },
        "file_count": {
          "type": "integer",
          "minimum": 1,
          "description": "Number of files in the archive"
        },
        "hash": {
          "type": "string",
          "pattern": "^[a-z]+:[a-f0-9]+$",
          "description": "Hash of the archive (format: algorithm:hash)"
        }
      }
    },
    "files": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "path",
          "size",
          "hash"
        ],
        "properties": {
          "path": {
            "type": "string",
            "minLength": 1,
            "description": "Relative path of the file"
          },
          "size": {
            "type": "integer",
            "minimum": 0,
            "description": "Size of the file in bytes"
          },
          "hash": {
            "type": "string",
            "pattern": "^[a-z]+:[a-f0-9]+$",
            "description": "Hash of the file (format: algorithm:hash)"
          }
        }
      }
    },
    "download_url": {
      "type": "string",
      "format": "uri",
      "description": "URL to download the package archive"
    }
  }
}
